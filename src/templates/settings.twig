{#
/**
 * gathercontent plugin for Craft CMS 3.x
 *
 * gathercontent Settings.twig
 *
 * @author    Solspace
 * @copyright Copyright (c) 2017 Solspace
 * @link      http://solspace.com
 * @package   Gathercontent
 * @since     1
 */
#}

{% import "_includes/forms" as forms %}

{% do view.registerAssetBundle("gathercontent\\gathercontent\\assetbundles\\gathercontent\\GathercontentAsset") %}

<script>
    var validateApiCredentialsUrl = '{{ cpUrl('gatherContent/api/validate-credentials') }}';
    var accountsUrl = '{{ cpUrl('gatherContent/api/get-accounts') }}';
    var integrateUrl = '{{ cpUrl('gatherContent/api/integrate') }}';
    var entryTypesUrl = '{{ cpUrl('gatherContent/api/get-entry-types') }}';
    var fieldsUrl = '{{ cpUrl('gatherContent/api/get-fields') }}';
    var elementsUrl = '{{ cpUrl('gatherContent/api/get-elements') }}';
    var templatesUrl = '{{ cpUrl('gatherContent/api/get-templates') }}';
    var projectsUrl = '{{ cpUrl('gatherContent/api/get-projects') }}';
    var sectionsUrl = '{{ cpUrl('gatherContent/api/get-sections') }}';
    var validateElementUrl = '{{ cpUrl('gatherContent/api/validate-element-type') }}';
    var switchMappingUrl = '{{ cpUrl('gatherContent/api/switch-mapping') }}';
    var migrationFinishedUrl = '{{ cpUrl('gatherContent/api/migration-finished') }}';
    var allMappingsUrl = '{{ cpUrl('gatherContent/api/get-all-mappings') }}';

    window.csrfTokenValue = "{{ craft.app.request.csrfToken }}";
    window.dontAssignEvenets = true;
    var isEdit = false;
</script>

{{ forms.textField({
    label: 'GatherContent Email Address',
    id: 'username',
    name: 'username',
    value: settings['username'],
    errors: settings.getErrors('username')})
}}

{{ forms.textField({
    label: 'GatherContent Api Key',
    id: 'apiKey',
    name: 'apiKey',
    value: settings['apiKey'],
    errors: settings.getErrors('apiKey')})
}}

{{ forms.textField({
    label: 'Assets Volume Handle',
    id: 'volumeHandle',
    name: 'volumeHandle',
    value: settings['volumeHandle'],
    errors: settings.getErrors('volumeHandle')})
}}
